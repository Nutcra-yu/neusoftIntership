<!DOCTYPE html>
<html>
	<body>
		<div id="app">
			<table width="100%" style="text-align: center;">
				<tr>
					<th>商品编号</th>
					<th>商品名称</th>
					<th>商品单价</th>
					<th>商品数量</th>
					<th>合计</th>
				</tr>
				<tr>
					<td>1</td>
					<td>10</td>
					<td>{{goods.price}}</td>
					<td>
						<button @click="subtract">-</button>
						{{goods.quantity}}
						<button @click="add">+</button>
					</td>
					<td>{{totalPrice}}</td>
				</tr>
			</table>
		</div>

		<script src="https://unpkg.com/vue"></script>
		<script>
			Vue.createApp({
				data() {
					return {
						goods: {
							price: 2999,
							quantity: 1
						}
					}
				},
				computed: {
					totalPrice() {
						return this.goods.price * this.goods.quantity;
					}
				},
				methods: {
					add() {
						this.goods.quantity++;
					},
					subtract() {

						this.goods.quantity--;
					}
				},
				watch: {
					goods: {
						handler(newVal, oldVal) {
							this.goods.quantity = newVal.quantity <= 0 ? oldVal.quantity: newVal.quantity;
						},
						deep: true
					}
				}
			}).mount('#app')
		</script>
	</body>
</html>